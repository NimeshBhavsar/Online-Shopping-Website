<!DOCTYPE html>
<html lang="zxx">

<head>
    <title>Online Shopping Website</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <meta name="keywords" content="Fashion Hub Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
	SmartPhone Compatible web template, free WebDesigns for Nokia, Samsung, LG, Sony Ericsson, Motorola web design" />
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>

    <!-- Custom Theme files -->
    <link href="<?php echo base_url()?>assets/website_assets/css/bootstrap.css" type="text/css" rel="stylesheet" media="all">
    <!-- shop css -->
    <link href="<?php echo base_url()?>assets/website_assets/css/shop.css" type="text/css" rel="stylesheet" media="all">
    <link href="<?php echo base_url()?>assets/website_assets/css/flexslider.css" type="text/css" rel="stylesheet" media="all">
    <link href="<?php echo base_url()?>assets/website_assets/css/style.css" type="text/css" rel="stylesheet" media="all">
    <!-- font-awesome icons -->
    <link href="<?php echo base_url()?>assets/website_assets/css/fontawesome-all.min.css" rel="stylesheet">
    <!-- //Custom Theme files -->
    <!-- online-fonts -->
    <link href="//fonts.googleapis.com/css?family=Elsie+Swash+Caps:400,900" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,200i,300,300i,400,400i,600,600i,700,700i,900,900i" rel="stylesheet">
    <!-- //online-fonts -->
</head>

<body>


<script async src='<?php echo base_url()?>assets/website_assets/js/autotrack.js'></script>

<meta name="robots" content="noindex">
<body><link rel="stylesheet" href="<?php echo base_url()?>assets/website_assets/assests/css/font-awesome.min.css">
<!-- New toolbar-->
<style>
* {
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
}


#w3lDemoBar.w3l-demo-bar {
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  padding: 40px 5px;
  padding-top:70px;
  margin-bottom: 70px;
  background: #0D1326;
  border-top-left-radius: 9px;
  border-bottom-left-radius: 9px;
}

#w3lDemoBar.w3l-demo-bar a {
  display: block;
  color: #e6ebff;
  text-decoration: none;
  line-height: 24px;
  opacity: .6;
  margin-bottom: 20px;
  text-align: center;
}

#w3lDemoBar.w3l-demo-bar span.w3l-icon {
  display: block;
}

#w3lDemoBar.w3l-demo-bar a:hover {
  opacity: 1;
}

#w3lDemoBar.w3l-demo-bar .w3l-icon svg {
  color: #e6ebff;
}
#w3lDemoBar.w3l-demo-bar .responsive-icons {
  margin-top: 30px;
  border-top: 1px solid #41414d;
  padding-top: 40px;
}
#w3lDemoBar.w3l-demo-bar .demo-btns {
  border-top: 1px solid #41414d;
  padding-top: 30px;
}
#w3lDemoBar.w3l-demo-bar .responsive-icons a span.fa {
  font-size: 26px;
}
#w3lDemoBar.w3l-demo-bar .no-margin-bottom{
  margin-bottom:0;
}
.toggle-right-sidebar span {
  background: #0D1326;
  width: 50px;
  height: 50px;
  line-height: 50px;
  text-align: center;
  color: #e6ebff;
  border-radius: 50px;
  font-size: 26px;
  cursor: pointer;
  opacity: .5;
}
.pull-right {
  float: right;
  position: fixed;
  right: 0px;
  top: 70px;
  width: 90px;
  z-index: 99999;
  text-align: center;
}
/* ============================================================
RIGHT SIDEBAR SECTION
============================================================ */

#right-sidebar {
  width: 90px;
  position: fixed;
  height: 100%;
  z-index: 1000;
  right: 0px;
  top: 0;
  margin-top: 60px;
  -webkit-transition: all .5s ease-in-out;
  -moz-transition: all .5s ease-in-out;
  -o-transition: all .5s ease-in-out;
  transition: all .5s ease-in-out;
  overflow-y: auto;
}


/* ============================================================
RIGHT SIDEBAR TOGGLE SECTION
============================================================ */

.hide-right-bar-notifications {
  margin-right: -300px !important;
  -webkit-transition: all .3s ease-in-out;
  -moz-transition: all .3s ease-in-out;
  -o-transition: all .3s ease-in-out;
  transition: all .3s ease-in-out;
}



@media (max-width: 992px) {
  #w3lDemoBar.w3l-demo-bar a.desktop-mode{
      display: none;

  }
}
@media (max-width: 767px) {
  #w3lDemoBar.w3l-demo-bar a.tablet-mode{
      display: none;

  }
}
@media (max-width: 568px) {
  #w3lDemoBar.w3l-demo-bar a.mobile-mode{
      display: none;
  }
  #w3lDemoBar.w3l-demo-bar .responsive-icons {
      margin-top: 0px;
      border-top: none;
      padding-top: 0px;
  }
  #right-sidebar,.pull-right {
      width: 90px;
  }
  #w3lDemoBar.w3l-demo-bar .no-margin-bottom-mobile{
      margin-bottom: 0;
  }
}
</style>


<div id="right-sidebar" class="right-sidebar-notifcations nav-collapse">
<div class="bs-example bs-example-tabs right-sidebar-tab-notification" data-example-id="togglable-tabs">
    <div class="right-sidebar-panel-content animated fadeInRight" tabindex="5003"
        style="overflow: hidden; outline: none;">
    </div>
</div>
</div>
</div>

<!---728x90--->

 	 <?php $this->load->view('include/website_header'); ?>
            <!-- bottom nav -->
            <?php $this->load->view('include/header_webiste'); ?>
            <!-- //bottom nav -->
        </div>
        <!-- //header container -->
    </header>
    <!-- //header -->
	<!---728x90--->
	<!-- inner banner -->
	<div class="ibanner_w3 pt-sm-5 pt-3">
		<h4 class="head_agileinfo text-center text-capitalize text-center pt-5">
			
            <?php $get_cat_name = get_value('tbl_category','cat_id',$product_data[0]->cat_id,'category_name');
                    $get_cat_name_sep = explode(" ", $get_cat_name);
 foreach ($get_cat_name_sep as $key => $value2) { ?>
                                
                                <span><?php echo $value2[0]; ?></span><?php echo ltrim($value2, $value2[0]); ?>
                                <?php } ?></h4>
	</div>
	<!-- //inner banner -->
    <!-- breadcrumbs -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="<?php echo base_url()?>website_home">Home</a>
            </li>
            <li class="breadcrumb-item">
                <a href="<?php echo base_url()."cat_v/".$product_data[0]->cat_id; ?>"><?php echo get_value('tbl_category','cat_id',$product_data[0]->cat_id,'category_name'); ?></a>
            </li>
            <li class="breadcrumb-item">
                <a href="<?php echo base_url()."sub_cat_v/".$product_data[0]->sub_cat_id; ?>"><?php echo get_value('tbl_sub_category','sub_cat_id',$product_data[0]->sub_cat_id,'sub_cat_name'); ?></a>
            </li>
            <li class="breadcrumb-item active" aria-current="page"><?php echo $product_data[0]->pro_name; ?></li>
        </ol>
    </nav>
    <!-- //breadcrumbs -->
    <!-- Single -->
    <div class="innerf-pages section py-5">
        <div class="container">
            <div class="row my-sm-5">
                <div class="col-lg-4 single-right-left">
                    <div class="grid images_3_of_2">
                        <div class="flexslider1">
                            <ul class="slides">
                                <li data-thumb="<?php echo base_url()."uploads/".$product_data[0]->pro_img1;?>">
                                    <div class="thumb-image">
                                        <img src="<?php echo base_url()."uploads/".$product_data[0]->pro_img1;?>" data-imagezoom="true" alt=" " class="img-fluid img_own"> </div>
                                </li>
                                <li data-thumb="<?php echo base_url()."uploads/".$product_data[0]->pro_img2;?>">
                                    <div class="thumb-image">
                                        <img src="<?php echo base_url()."uploads/".$product_data[0]->pro_img2;?>" data-imagezoom="true" alt=" " class="img-fluid img_own"> </div>
                                </li>
                                <li data-thumb="<?php echo base_url()."uploads/".$product_data[0]->pro_img3;?>">
                                    <div class="thumb-image">
                                        <img src="<?php echo base_url()."uploads/".$product_data[0]->pro_img3;?>" data-imagezoom="true" alt=" " class="img-fluid img_own"> </div>
                                </li>
                                <li data-thumb="<?php echo base_url()."uploads/".$product_data[0]->pro_img4;?>">
                                    <div class="thumb-image">
                                        <img src="<?php echo base_url()."uploads/".$product_data[0]->pro_img4;?>" data-imagezoom="true" alt=" " class="img-fluid img_own"> </div>
                                </li>
                            </ul>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8 mt-lg-0 mt-5 single-right-left simpleCart_shelfItem">
                    <h3><?php echo $product_data[0]->pro_name; ?></h3>
                    </h3>
                    <div class="gUuXy- _2D5lwg"><span id="productRating_LSTVESEXFZGH6NFHMZ71WROO4_VESEXFZGH6NFHMZ7_" class="_1lRcqv"><div class="_3LWZlK"><?php echo get_rating($product_data[0]->product_id);?><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTYuNSA5LjQzOWwtMy42NzQgMi4yMy45NC00LjI2LTMuMjEtMi44ODMgNC4yNTQtLjQwNEw2LjUuMTEybDEuNjkgNC4wMSA0LjI1NC40MDQtMy4yMSAyLjg4Mi45NCA0LjI2eiIvPjwvc3ZnPg==" class="_1wB99o">
                        

                      </div></span>
                      <?php
                            $datavaluestwo = array('product_id' => $product_data[0]->product_id,'seller_status' => 'SUCCESS');
                            ?>
                            <td></td>
                      <span class="_2_R_DZ">(<?php echo get_count('tbl_orders',$datavaluestwo,'product_id'); ?>)</span></div>
                    <div class="caption">
                        <div class="clearfix pb-2"> </div>
                        <table class="table table-responsive table-striped">
                            <tr>
                                <td>M.R.P.</td>
                                <td>: </td>
                                <td class="line-through"> <?php echo get_value('tbl_login','customer_id',1,'money_type'); ?> <?php echo $product_data[0]->pro_amount;?>.00</td>
                            </tr>
                            <tr>
                                <td>Deal of the Day</td>
                                <td>: </td>
                                <td > <?php echo get_value('tbl_login','customer_id',1,'money_type'); ?> <?php echo $product_data[0]->pro_final_amount;?>.00</td>
                            </tr>
                            <tr>
                                <td>You Save</td>
                                <td>: </td>
                                <td class="you-save"> <?php echo get_value('tbl_login','customer_id',1,'money_type'); ?> <?php echo $product_data[0]->pro_off_percentage;?>.00</td>
                            </tr>
                            <tr>
                                <td>FREE delivery</td>
                                <td>: </td>
                                <td> <?php $Date = date('Y-m-d'); echo date('l, F d', strtotime($Date. ' + '.$product_data[0]->pro_delivery_dates.' days')); ?></td>
                            </tr>
                        </table>
                    </div>
                    <div class="desc_single">
                        <h5>Size</h5>
                        <?php if(!empty($product_data[0]->pro_size)){
                          $size_array = explode(",",$product_data[0]->pro_size);
                        
                        foreach ($size_array as $key => $value) { ?>
                            <label class="checkbox-inline"><input type="radio" value="<?php echo $value;?>" name="pro_size" class="pro_size_box" <?php if($key == 0){ echo"checked";} ?>> <?php echo $value;?></label>
                       <?php }
                        ?>
                        
                    <?php }else{ ?>
                        <p>only one Size available in product</p>
                    <?php } ?>
                    </div>
                    <div class="desc_single">
                        <h5>Colors</h5>
                        <?php if(!empty($product_data[0]->pro_color_ids)){
                          $color_array = explode(",",$product_data[0]->pro_color_ids);
                        
                        foreach ($color_array as $key => $value) {
                        if($product_data[0]->product_id != $value){ ?>
                            <a href="<?php echo base_url()."product_v/".$value; ?>"><img src="<?php echo base_url()?>uploads/<?php echo get_imgone($value);?>" class="related_img"></a>
                       <?php } }
                        ?>
                        
                    <?php }else{ ?>
                        <p>only one color available in product</p>
                    <?php } ?>
                    </div>
                    <div class="desc_single">
                        <h5>Description</h5>
                        <p><?php echo $product_data[0]->product_description;?></p>
                    </div>
                    <div class="d-sm-flex justify-content-between">
                        <div class="occasional">
                            <h5 class="sp_title mb-3">Highlights</h5>
                            <ul class="single_specific">
                                <li><?php echo $product_data[0]->pro_details;?></li>
                                
                            </ul>

                        </div>
                        <div class="color-quality mt-sm-0 mt-4">
                            <h5 class="sp_title mb-3">services</h5>
                            <ul class="single_serv">
                                <li>
                                    <a href="#">30 Day Return Policy</a>
                                </li>
                                <li class="mt-2">
                                    <a href="#">Cash on Delivery available</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="occasion-cart">
                        <div class="chr single-item single_page_b">
                            <?php $cart_a=0;$cart_clr=""; $wishlist_a=0;$wishlist_clr=''; if(!empty($this->session->userdata('customer_id')) && ($this->session->userdata('role'))){ 
                                        $datavaluesthree = array('product_id' => $product_data[0]->product_id , 'order_status' => 'PENDING' , 'customer_id' => $this->session->userdata('customer_id'));
                                        $get_data = get_data_array('tbl_cart',$datavaluesthree);
                                        if(!empty($get_data))
                                        {
                                            $cart_a=1;$cart_clr=" clr_red";
                                        }
                                        
                                        $datavalues12 = array('product_id' => $product_data[0]->product_id , 'customer_id' => $this->session->userdata('customer_id'));
                                        $get_data1 = get_data_array('tbl_wishlist',$datavalues12);
                                        if(!empty($get_data1))
                                        {
                                            $wishlist_a=1;$wishlist_clr="clr_red";
                                        }
                                    }?>
                                    <input type="hidden" name="" class="already_incart" value="<?php echo $cart_a;?>">
                                    <input type="hidden" name="" class="already_inwishlist" value="<?php echo $wishlist_a;?>">
                                        <input type="hidden" name="" class="cart_product_id" value="<?php echo $product_data[0]->product_id;?>">
                        <?php
                            $get_availability = get_stock($product_data[0]->product_id);
                            if($get_availability == 'Temporarily Unavailable')
                            {
                                $ofs="out_w3";
                            }
                            else
                            {
                                $ofs="";
                            }
                        ?>
                        <?php if(!empty($ofs)){ ?>
                            <a href="#" class="text-danger font-weight-bold">out of stock</a>
                        <?php }else{ ?>
                        <a href="#" class="hub-cart phub-cart btn add_to_cart"><i class="fa fa-cart-plus <?php echo $cart_clr;?>" aria-hidden="true"></i></a>
                        <?php } ?>
                        <a href="#" class="hub-cart phub-cart btn add_to_wishlist"><i class="fa fa-heart <?php echo $wishlist_clr;?>" aria-hidden="true"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /new_arrivals -->
    <?php 
                    if(!empty($related_products)){ ?>
    <div class="section singlep_btm pb-5">
        <div class="container">
            <div class="new_arrivals">
                <h4 class="rad-txt text-capitalize">Similar Products
                </h4>
                <!-- card group 2 -->
                <div class="card-group my-5">
                    <!-- card -->
                    <?php 
                    foreach ($related_products as $key => $value) { ?>
                    <div class="col-lg-3 col-sm-6 p-0">
                        <div class="card product-men p-3">
                            <div class="men-thumb-item">
                                <img src="<?php echo base_url()."uploads/".$value->pro_img1;?>" alt="img" class="card-img-top card-img-top card-img-top1">
                                <div class="men-cart-pro">
                                    <div class="inner-men-cart-pro">
                                        <a href="<?php echo base_url()."product_v/".$value->product_id;?>" class="link-product-add-cart">Quick View</a>
                                    </div>
                                </div>
                            </div>
                            <!-- card body -->
                            <div class="card-body  py-3 px-2">
                                <h5 class="card-title text-capitalize"><?php echo $value->pro_name;?></h5>
                                <div class="card-text d-flex justify-content-between">
                                    <p class="text-dark font-weight-bold"><?php echo get_value('tbl_login','customer_id',1,'money_type'); ?> <?php echo $value->pro_final_amount;?></p>
                                    <p class="line-through"><?php echo get_value('tbl_login','customer_id',1,'money_type'); ?> <?php echo $value->pro_amount;?></p>
                                </div>
                            </div>
                            <!-- card footer -->
                            <div class="card-footer d-flex justify-content-end">
                                <div class="gUuXy- _2D5lwg pull-left"><span id="productRating_LSTVESEXFZGH6NFHMZ71WROO4_VESEXFZGH6NFHMZ7_" class="_1lRcqv"><div class="_3LWZlK"><?php echo get_rating($value->product_id);?><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTYuNSA5LjQzOWwtMy42NzQgMi4yMy45NC00LjI2LTMuMjEtMi44ODMgNC4yNTQtLjQwNEw2LjUuMTEybDEuNjkgNC4wMSA0LjI1NC40MDQtMy4yMSAyLjg4Mi45NCA0LjI2eiIvPjwvc3ZnPg==" class="_1wB99o">
                        

                      </div></span>
                      <?php
                            $datavaluestwo = array('product_id' => $value->product_id,'seller_status' => 'SUCCESS');
                            ?>
                            <td></td>
                      <span class="_2_R_DZ">(<?php echo get_count('tbl_orders',$datavaluestwo,'product_id'); ?>)</span></div>
                                <a href="#" class="hub-cart1 phub-cart btn"><i class="fa fa-cart-plus" aria-hidden="true"></i></a>
                        <a href="#" class="hub-cart1 phub-cart btn heart_own"><i class="fa fa-heart"></i></a>
                            </div>
                        </div>
                    </div>
                    <?php } ?>
                    <div class="col-lg-3 col-sm-6 p-0">
                        <div class="card product-men p-3">
                            <div class="men-thumb-item">
                                <img src="<?php echo base_url()?>assets/website_assets/images/p2.png" alt="img" class="card-img-top card-img-top card-img-top1">
                                <div class="men-cart-pro">
                                    <div class="inner-men-cart-pro">
                                        <a href="<?php echo base_url()."cat_v/".$product_data[0]->cat_id;?>" class="link-product-add-cart">View More</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- //card -->
                </div>
                <!-- //card group -->
                <!--//new_arrivals-->
            </div>
        </div>
    </div>
 <?php } ?>
    <!--// Single -->
    <div class="section singlep_btm pb-5">
        <div class="container">
            <div class="new_arrivals">
                <h4 class="rad-txt text-capitalize">From the manufacturer
                </h4>
                <!-- card group 2 -->
                <div class="card-group my-5">
                    <img src="<?php echo base_url()."uploads/".$product_data[0]->des_img1;?>" class="img_description" >
                    <p class="p_description"><?php echo $product_data[0]->des_line1;?></p>
                </div>
                <div class="card-group my-5">
                    <img src="<?php echo base_url()."uploads/".$product_data[0]->des_img2;?>" class="img_description">
                    <p class="p_description"><?php echo $product_data[0]->des_line3;?></p>
                </div>
                <div class="card-group my-5">
                    <img src="<?php echo base_url()."uploads/".$product_data[0]->des_img3;?>" class="img_description">
                    <p class="p_description"><?php echo $product_data[0]->des_line2;?></p>
                </div>
                <div class="card-group my-5">
                    <img src="<?php echo base_url()."uploads/".$product_data[0]->des_img4;?>" class="img_description">
                </div>
                <!-- //card group -->
                <!--//new_arrivals-->
            </div>
        </div>
    </div>
    <div class="section singlep_btm pb-5 ">
        <div class="container border_own">
            <div class="new_arrivals">
                <h4 class="rad-txt text-capitalize">Customer questions & answers
                </h4>
                <div class="card-group my-5">
                    <input type="text" name="search_faq" id="search_faq" class="form-control input_text_own search_faq" placeholder="Search question Answer Here">
                    <table class="table table-responsive" id="FAQ_table">
                        <?php foreach ($product_qes_ans as $key => $value): 
                            $up="";$down="";$already_vote=0;
                            if(!empty($this->session->userdata('role')) && $this->session->userdata('role') == 'customer'){
                                 $datavaluesthree = array('pro_qes_ans_id' => $value->pro_qes_ans_id , 'customer_id' => $this->session->userdata('customer_id'));
                            $get_data = get_data_array('tbl_qes_ans_votes',$datavaluesthree);
                                if(!empty($get_data)){ 
                                    if($get_data[0]->vote_type =='UP')
                                    {
                                        $up="blue_active";
                                        $already_vote=1;
                                        
                                    }
                                    else
                                    {
                                        $down="blue_active";
                                        $already_vote=2;
                                    }
                                }
                            } 
                            $datavaluesup = array('product_id' => $product_data[0]->product_id,'vote_type' => 'UP','pro_qes_ans_id' => $value->pro_qes_ans_id); 
                            $datavaluesdown = array('product_id' => $product_data[0]->product_id,'vote_type' => 'DOWN','pro_qes_ans_id' => $value->pro_qes_ans_id);
                            ?>  
                            
                            <tr class="question_class disply_<?php echo $value->pro_qes_ans_id;?>">
                            <td>
                                <input type="hidden" name="" value="<?php echo $value->pro_qes_ans_id;?>" class="from_question_id">
                                
                                <input type="hidden" name="" value="UP" class="form_vote">
                                <input type="hidden" name="" value="<?php echo $already_vote; ?>" class="alredy_vote">
                                <a href="" title="Vote for up"><i class="fas fa-arrow-circle-up icon_class vote  <?php echo $up; ?>"></i></a><a href="#" class="vote_display"> <?php echo get_count('tbl_qes_ans_votes',$datavaluesup,'product_id'); ?></a></td>

                            <td>Question</td>
                            <td>:</td>
                            <td><?php echo $value->question;?></td>
                        </tr>
                         <tr class="question_class disply_<?php echo $value->pro_qes_ans_id;?>">
                            <td>
                                <input type="hidden" name="" value="<?php echo $value->pro_qes_ans_id;?>" class="from_question_id">

                                <input type="hidden" name="" value="DOWN" class="form_vote">
                                <input type="hidden" name="" value="<?php echo $already_vote; ?>" class="alredy_vote">
                                <a href="" title="Vote for up"><i class="fas fa-arrow-circle-down icon_class vote <?php echo $down; ?>"></i> </a><a href="#" class="vote_display"><?php echo get_count('tbl_qes_ans_votes',$datavaluesdown,'product_id'); ?></a></td>
                            <td>Answer</td>
                            <td>:</td>
                            <td><?php echo $value->answer;?></td>
                        </tr>
                        <tr class="disply_<?php echo $value->pro_qes_ans_id;?>">
                            <td></td>
                            <td></td>
                            <td></td>
                            <td><img src="<?php echo base_url()."uploads/".get_value('tbl_login','customer_id',$value->seller_id,'photo');?>" class="img_cqa"> <?php echo get_value('tbl_login','customer_id',$value->seller_id,'user_name'); ?> . <?php  echo date('d F, Y', strtotime($value->date_of_reply)); ?></td>
                        </tr>
                        <?php endforeach ?>
                    </table>
                    <div class="container">
                        <form method="post">
                            <div class="row">
                                <div class="col-md-3">
                                    <input type="text" name="question" id="question" class="form-control" placeholder="Ask Question Here" required>
                                </div>
                                <div class="col-md-1">
                                    <input type="submit" name="ask_question" value="Submit" class="btn btn-info sbt_qes_ans">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="section singlep_btm pb-5 ">
        <div class="container ">
            <div class="new_arrivals">
                <h4 class="rad-txt text-capitalize">Ratings & Reviews &nbsp;&nbsp;&nbsp;&nbsp;<div class="gUuXy- _2D5lwg"><span id="productRating_LSTVESEXFZGH6NFHMZ71WROO4_VESEXFZGH6NFHMZ7_" class="_1lRcqv"><div class="_3LWZlK1"><?php echo get_rating($product_data[0]->product_id);?><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTYuNSA5LjQzOWwtMy42NzQgMi4yMy45NC00LjI2LTMuMjEtMi44ODMgNC4yNTQtLjQwNEw2LjUuMTEybDEuNjkgNC4wMSA0LjI1NC40MDQtMy4yMSAyLjg4Mi45NCA0LjI2eiIvPjwvc3ZnPg==" class="_1wB99o1">
                        

                      </div></span>
                      <?php
                            $datavaluestwo = array('product_id' => $product_data[0]->product_id,'seller_status' => 'SUCCESS');
                            ?>
                            <td></td>
                      <span class="_2_R_DZ clr_hash fnt_own12">(<?php echo get_count('tbl_orders',$datavaluestwo,'product_id'); ?> ratings and reviews)</span></div>
                </h4>
                <div class="card-group my-5">
                    <div class="jWkUWf">Images uploaded by customers:</div>
                    <br>
                    <div class="review_img_div">
                        <?php 
                        $datavaluesthree = array('cutomer_status' => 'SUCCESS', 'feedback_img1 !=' => '','product_id' => $product_data[0]->product_id);
                            $get_data = get_data_array('tbl_orders',$datavaluesthree);
                            if(!empty($get_data)){
                        foreach ($get_data as $key => $value): ?>
                            <?php if(!empty($value->feedback_img1)){ ?>
                                <img src="<?php echo base_url()."uploads/".$value->feedback_img1; ?>" class="review_img">
                            <?php } ?>
                            <?php if(!empty($value->feedback_img2)){ ?>
                                <img src="<?php echo base_url()."uploads/".$value->feedback_img2; ?>" class="review_img">
                            <?php } ?>
                            <?php if(!empty($value->feedback_img3)){ ?>
                                <img src="<?php echo base_url()."uploads/".$value->feedback_img3; ?>" class="review_img">
                            <?php } ?>
                        <?php endforeach; } ?>
                    </div>
                    <?php 
                    $datavaluesthree = array('cutomer_status' => 'SUCCESS','product_id' => $product_data[0]->product_id);
                            $get_data = get_data_array('tbl_orders',$datavaluesthree);
                            if(!empty($get_data)){
                    foreach ($get_data as $key => $value): ?>
                        <div class="review_cnt">
                            <div class="gUuXy- _2D5lwg"><span id="productRating_LSTVESEXFZGH6NFHMZ71WROO4_VESEXFZGH6NFHMZ7_" class="_1lRcqv"><div class="_3LWZlK"><?php echo $value->stars_in_number;?><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTYuNSA5LjQzOWwtMy42NzQgMi4yMy45NC00LjI2LTMuMjEtMi44ODMgNC4yNTQtLjQwNEw2LjUuMTEybDEuNjkgNC4wMSA0LjI1NC40MDQtMy4yMSAyLjg4Mi45NCA0LjI2eiIvPjwvc3ZnPg==" class="_1wB99o">
                      </div><span class="review_title"><?php echo $value->feedback; ?><br><?php echo $value->feedback_cmt; ?></span><br><br>
                      <?php if(!empty($value->feedback_img1)){ ?>
                                <img src="<?php echo base_url()."uploads/".$value->feedback_img1; ?>" class="review_img">
                            <?php } ?>
                            <?php if(!empty($value->feedback_img2)){ ?>
                                <img src="<?php echo base_url()."uploads/".$value->feedback_img2; ?>" class="review_img">
                            <?php } ?>
                            <?php if(!empty($value->feedback_img3)){ ?>
                                <img src="<?php echo base_url()."uploads/".$value->feedback_img3; ?>" class="review_img">
                            <?php } ?>
                      <br><br><br><span class="review_name"><?php echo get_value('tbl_login','customer_id',$value->customer_id,'user_name'); ?></span>
                      <?php
                      $date1 = new DateTime(date('Y-m-d', strtotime($value->date_of_received)));
                      $date2 = new DateTime(date('Y-m-d'));
                      $interval = $date1->diff($date2);
                      //echo "difference " . $interval->y . " years, " . $interval->m." months, ".$interval->d." days "; 

                        // shows the total amount of days (not divided into years, months and days like above)
                      //echo "difference " . $interval->days . " days ";
                      ?>

                      <span class="review_date"><?php if($interval->y > 0){ echo $interval->y." year, "; } if($interval->m > 0){ echo $interval->m." months, "; } if($interval->d > 0){ echo $interval->d." days, ago"; }else{ echo"1 day ago";}   ?></span><br><img src="<?php echo base_url()."assets/website_assets/images/outline_check_circle_black_24dp.png"?>" class="review_tick"><span class="review_buyer"> Certified Buyer, <?php echo get_value('tbl_login','customer_id',$value->customer_id,'city'); ?></span>
                      <!-- review up down -->
                      <?php $up="";$down="";$already_vote=0;
                            if(!empty($this->session->userdata('role')) && $this->session->userdata('role') == 'customer'){
                                 $datavaluesthree = array('order_id' => $value->order_id , 'customer_id' => $this->session->userdata('customer_id'));
                            $get_data = get_data_array('tbl_review_votes',$datavaluesthree);
                                if(!empty($get_data)){ 
                                    if($get_data[0]->vote_type =='UP')
                                    {
                                        $up="blue_active";
                                        $already_vote=1;
                                        
                                    }
                                    else
                                    {
                                        $down="blue_active";
                                        $already_vote=2;
                                    }
                                }
                            }
                        ?>
                      <!-- review up down -->
                  <div class="review_vote">
                    <svg width="20" height="15" xmlns="http://www.w3.org/2000/svg" class="skCrcq <?php echo $up; ?> vote_for_review"><path fill="#fff" class="_1LIt4y" d="M9.58.006c-.41.043-.794.32-1.01.728-.277.557-2.334 4.693-2.74 5.1-.41.407-.944.6-1.544.6v8.572h7.5c.45 0 .835-.28 1.007-.665 0 0 2.207-6.234 2.207-6.834 0-.6-.47-1.072-1.07-1.072h-3.216c-.6 0-1.07-.535-1.07-1.07 0-.537.835-3.387 1.006-3.944.17-.557-.107-1.157-.664-1.35-.15-.043-.257-.086-.407-.064zM0 6.434v8.572h2.143V6.434H0z" fill-rule="evenodd"></path></svg>
                    <input type="hidden" name="" value="UP" class="form_vote">
                    <input type="hidden" name="" value="<?php echo $value->order_id;?>" class="from_question_id">
                    <input type="hidden" name="" value="<?php echo $already_vote; ?>" class="alredy_vote">
                    <?php
                            $datavaluestwo = array('product_id' => $product_data[0]->product_id,'order_id' => $value->order_id,'vote_type' => 'UP');
                            ?>
                    <span class="_3c3Px5 review_count"><?php echo get_count('tbl_review_votes',$datavaluestwo,'product_id'); ?></span>
                    </div>
                    <div class="review_vote">
                    <svg width="20" height="15" xmlns="http://www.w3.org/2000/svg" class="skCrcq pkR4jH <?php echo $down; ?> vote_for_review"><path fill="#fff" class="_1LIt4y" d="M9.58.006c-.41.043-.794.32-1.01.728-.277.557-2.334 4.693-2.74 5.1-.41.407-.944.6-1.544.6v8.572h7.5c.45 0 .835-.28 1.007-.665 0 0 2.207-6.234 2.207-6.834 0-.6-.47-1.072-1.07-1.072h-3.216c-.6 0-1.07-.535-1.07-1.07 0-.537.835-3.387 1.006-3.944.17-.557-.107-1.157-.664-1.35-.15-.043-.257-.086-.407-.064zM0 6.434v8.572h2.143V6.434H0z" fill-rule="evenodd"></path></svg>
                    <input type="hidden" name="" value="DOWN" class="form_vote">
                    <input type="hidden" name="" value="<?php echo $value->order_id;?>" class="from_question_id">
                    <input type="hidden" name="" value="<?php echo $already_vote; ?>" class="alredy_vote">
                     <?php
                            $datavaluestwo = array('product_id' => $product_data[0]->product_id,'order_id' => $value->order_id,'vote_type' => 'DOWN');
                            ?>
                    <span class="_3c3Px5 review_count"><?php echo get_count('tbl_review_votes',$datavaluestwo,'product_id'); ?></span>
                </div>
                  </span></div>
                        </div>
                    <?php endforeach; } ?>
                    
                </div>
            </div>
        </div>
    </div>
    <!--  -->
    <?php $this->load->view('include/footer_website'); ?>
 
    <!-- //footer -->
	<!---728x90--->
    <!-- sign up Modal -->
    
    <!-- //signup modal -->
    <!-- signin Modal -->
    
    <!-- signin Modal -->
    <!-- js -->
    <script src="<?php echo base_url()?>assets/website_assets/js/jquery-2.2.3.min.js"></script>
    <!-- //js -->
    <!-- smooth dropdown -->
    <script>
        $(document).ready(function () {
            $('ul li.dropdown').hover(function () {
                $(this).find('.dropdown-menu').stop(true, true).delay(200).fadeIn(200);
            }, function () {
                $(this).find('.dropdown-menu').stop(true, true).delay(200).fadeOut(200);
            });
        });
    </script>
    <!-- //smooth dropdown -->
    <!-- script for password match -->
    <script>
        window.onload = function () {
            document.getElementById("password1").onchange = validatePassword;
            document.getElementById("password2").onchange = validatePassword;
        }

        function validatePassword() {
            var pass2 = document.getElementById("password2").value;
            var pass1 = document.getElementById("password1").value;
            if (pass1 != pass2)
                document.getElementById("password2").setCustomValidity("Passwords Don't Match");
            else
                document.getElementById("password2").setCustomValidity('');
            //empty string means no validation error
        }
    </script>
    <!-- script for password match -->

    <!-- FlexSlider -->
    <script src="<?php echo base_url()?>assets/website_assets/js/jquery.flexslider.js"></script>
    <script>
        // Can also be used with $(document).ready()
        $(window).load(function () {
            $('.flexslider1').flexslider({
                animation: "slide",
                controlNav: "thumbnails"
            });
        });
    </script>
    <!-- //FlexSlider-->
    <!-- cart-js -->
    <script src="<?php echo base_url()?>assets/website_assets/js/minicart.js"></script>
    <script>
        hub.render();

        hub.cart.on('new_checkout', function (evt) {
            var items, len, i;

            if (this.subtotal() > 0) {
                items = this.items();

                for (i = 0, len = items.length; i < len; i++) {}
            }
        });
    </script>
    <!-- //cart-js -->
    <!-- zoom -->
    <script src="<?php echo base_url()?>assets/website_assets/js/imagezoom.js"></script>
    <!-- zoom-->

    <!-- start-smooth-scrolling -->
    <script src="<?php echo base_url()?>assets/website_assets/js/move-top.js"></script>
    <script src="<?php echo base_url()?>assets/website_assets/js/easing.js"></script>
    <script>
        jQuery(document).ready(function ($) {
            $(".scroll").click(function (event) {
                event.preventDefault();

                $('html,body').animate({
                    scrollTop: $(this.hash).offset().top
                }, 1000);
            });
        });
    </script>
    <!-- //end-smooth-scrolling -->
    <!-- smooth-scrolling-of-move-up -->
    <script>
        $(document).ready(function () {
            /*
            var defaults = {
                containerID: 'toTop', // fading element id
                containerHoverID: 'toTopHover', // fading element hover id
                scrollSpeed: 1200,
                easingType: 'linear' 
            };
            */

            $().UItoTop({
                easingType: 'easeOutQuart'
            });

        });
    </script>
    <script src="<?php echo base_url()?>assets/website_assets/js/SmoothScroll.min.js"></script>
    <!-- //smooth-scrolling-of-move-up -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="<?php echo base_url()?>assets/website_assets/js/bootstrap.js"></script>



	</body>

</html>
<style type="text/css">
<?php if(!empty($product_data)){ ?>
    .ibanner_w3 {
    background: url(<?php echo base_url()."uploads/".get_value('tbl_category','cat_id',$product_data[0]->cat_id,'cat_img');?>)no-repeat center;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    -ms-background-size: cover;
    background-size: cover;
    min-height: 260px;
}
 <?php } ?>
 .img_own{height: 448px;width: 448px;}
 .flex-control-thumbs img {
    height: 100px;width: 100px;
}
.gUuXy-._2D5lwg {
    margin-top: 0;
    display: inline-block;
    padding-right: 10px;
}
._1lRcqv {
    position: relative;
}
._3LWZlK {
    line-height: normal;
    display: inline-block;
    color: #fff;
    padding: 2px 4px 2px 6px;
    border-radius: 3px;
    font-weight: 500;
    font-size: 12px;
    vertical-align: middle;
    background-color: #388e3c;
}
._3LWZlK1 {
    line-height: 25px;
    display: inline-block;
    color: #fff;
    padding: 2px 4px 2px 6px;
    border-radius: 3px;
    font-weight: 500;
    font-size: 20px;
    border-radius: 20px;
    vertical-align: middle;
    background-color: #388e3c;
}
._1wB99o{
    margin: -5px 0 0 2px;
    height: 10px;
    }
    ._1wB99o1{
    margin: -5px 0 0 2px;
    height: 20px;
    }
    .line-through {
    text-decoration: line-through;
    margin: 0;
    color: #777;
    font-size: 18px;
    line-height: 1.6;
}
.you-save{
  font-size: 15px!important;
  color: red;
}
a.hub-cart {
    font-size:20px;
    letter-spacing: 1px;
    word-spacing: 2px;
    padding: 10px 25px;
    font-weight: 600;
    text-transform: uppercase !important;
    color: #000;
    background: #d8e9fa;
    outline: none;
    border: none;
    cursor: pointer;
    margin-left: 15px;
}
a.hub-cart i {
    font-size: 1.2em;
    color: #0076be;
}
a.heart_own i {
    color: #ff4343 !important;
}
.card-img-top1{height: 300px!important;width: 244px;}
a.hub-cart1 {
    font-size:12px;
    letter-spacing: 1px;
    word-spacing: 2px;
    padding: 10px 20px;
    font-weight: 600;
    text-transform: uppercase !important;
    color: #000;
    background: #d8e9fa;
    outline: none;
    border: none;
    cursor: pointer;
    margin-left: 5px;
}
a.hub-cart1 i {
    font-size: 1.2em;
    color: #0076be;
}
.img_description{
    height: 538px !important;
    width: 1204px !important;
}
.p_description{
    padding: 5px;
    margin-top: 20px;
    border: 1px solid #ccc;
    text-indent: 30px;
    text-align: justify;
    letter-spacing: 1px;
}
.img_cqa{height: 50px;width: 50px;border-radius: 34px;border: 2px solid #FFF;}
.icon_class {
    width: 30px;
    height: 30px;
    background: #101010;
    color: #ffffff;
    border-radius: 34px;
    border: 2px solid #ffffff;
    padding: 5px;
}
.border_top{border-top: 1px solid #d8e9fa;}
.con_own{width: 25%;float: left;}
.border_own{border: 1px solid #ccc;}
.blue_active{background-color: #027cff!important;color: #f7f7f7;}
input.form-control {
    background: #d6dbe0;
}
.display23_none{display: none!important;}
.display23_block{display: block!important;}
.clr_hash{color: #878787;}
.fnt_own12{font-size: 15px;}
.jWkUWf {
    margin: -4px 0 16px 0px;
    font-weight: 500;
    font-size: 16px;
    width: 100%;
}
.review_img_div{max-width: 800px;}
.review_img{width: 70px;
    height: 70px;float: left;margin-right: 10px;border-radius: 5px;}
    .review_cnt{width: 100%;margin-top: 10px;border-bottom: 2px solid #f0f0f0;padding: 20px;}
    .review_title{display: inline;
    vertical-align: baseline;
    margin: auto 0;
    line-height: 1.43;padding-left: 20px;}
    .review_name{font-weight: 500;font-size: 15px;
    color: #878787;margin-right: 12px;text-transform: uppercase;}
    .review_date{font-size: 12px;
    color: #878787;
    margin-right: 5px;}
    .review_tick{width: 20px;
    height: 20px;
    background: #fff;}
    .review_buyer{font-size: 12px;
    color: #878787;
    padding: 0 6px 0 0;margin-left: 15px;}
.skCrcq {
    width: 25px;
    height: 25px;
    color: #c2c2c2;
    background: #c2c2c2;
    padding: 3px 0px 0px 5px;
    border-radius: 15px;
}
.review_vote{float: right;}
._3c3Px5 {
    padding: 2px 0 0;
    color: #878787;
    margin-left: 2px;
    margin-right: 7px;
    vertical-align: top;
}
.skCrcq.pkR4jH {
    -webkit-transform: scaleY(-1);
    transform: scaleY(-1);
}
.clr_red{
    color: #ff4343 !important;
}
</style>
<script type="text/javascript">
    $(document).ready(function () {
        $('.sbt_qes_ans').click(function(){
            event.preventDefault();
            var customer_id = "<?php echo $this->session->userdata('customer_id');?>";
            var role = "<?php echo $this->session->userdata('role');?>";
            var product_id = "<?php echo $product_data[0]->product_id;?>";
            if(role == 'customer'){
                var question = $("#question").val();
                var $url="<?php echo base_url();?>qestion_pass";
                // alert($url);
                $.ajax({ 
                  url: $url,
                  type:"POST",
                  data: {question: question,product_id: product_id},
                  success: function ($data) {
                    if($data !=''){
                      alert("Your Question Submitted. once seller replyed intimate your dashboard and see the answer product page");
                      $("#question").val("");
                    }      
                  },
                  error: function(){
                  }
                });
            }
            else
            {
                alert("Please Login And submit Your Question...");
            }
        });

        $('.vote').click(function(){
            event.preventDefault();
            var i=0;
            var vote_type = $(this).closest('.question_class').find('.form_vote').val();
            var customer_id = "<?php echo $this->session->userdata('customer_id');?>";
            var role = "<?php echo $this->session->userdata('role');?>";
            var product_id = "<?php echo $product_data[0]->product_id;?>";
            var pro_qes_ans_id = $(this).closest('.question_class').find('.from_question_id').val();
            var get_text_a = $(this).closest('.question_class').find('.vote_display').text();
                var find_alery_vote = $(this).closest('.question_class').find('.alredy_vote').val();
             if(vote_type =='UP' && role == 'customer')
            {
                $(this).closest("tr").next(".question_class").find('a i').removeClass('blue_active');
                $(this).closest('.question_class').find('a i').addClass('blue_active');
                
                if(find_alery_vote == 1)
                {
                    alert("Already in UP vote");
                    i = 1;
                }
                else
                {
                    var currentPage = parseInt(get_text_a);
                    $(this).closest('.question_class').find('.vote_display').text(" " + ++currentPage);
                    if(find_alery_vote == 2)
                    {
                        $(this).closest('tr').next(".question_class").find('.alredy_vote').val("1");
                        $(this).closest(".question_class").find('.alredy_vote').val("1");
                        var get_minusvalue = $(this).closest('tr').next(".question_class").find('.vote_display').text();
                        var currentPage1 = parseInt(get_minusvalue);
                        if(get_minusvalue !=0)
                        {
                            $(this).closest('tr').next(".question_class").find('.vote_display').text(" " + --currentPage1);
                        }
                    }

                    if(find_alery_vote == 0)
                    {
                        $(this).closest('tr').next(".question_class").find('.alredy_vote').val("1");
                        $(this).closest(".question_class").find('.alredy_vote').val("1");
                    }
                }
            }
            if(vote_type =='DOWN' && role == 'customer')
            {
                $(this).closest("tr").prev(".question_class").find('a i').removeClass('blue_active');
                $(this).closest('.question_class').find('a i').addClass('blue_active');
                if(find_alery_vote == 2)
                {
                    alert("Already in DOWN vote");
                    i = 1;
                }
                else
                {
                    var currentPage = parseInt(get_text_a);
                    $(this).closest('.question_class').find('.vote_display').text(" " + ++currentPage);
                    if(find_alery_vote == 1)
                    {
                        $(this).closest('tr').prev(".question_class").find('.alredy_vote').val("2");
                        $(this).closest(".question_class").find('.alredy_vote').val("2");
                        var get_minusvalue = $(this).closest('tr').prev(".question_class").find('.vote_display').text();
                        var currentPage1 = parseInt(get_minusvalue);
                        if(get_minusvalue !=0)
                        {
                            $(this).closest('tr').prev(".question_class").find('.vote_display').text(" " + --currentPage1);
                        }
                    }
                    if(find_alery_vote == 0)
                    {
                        $(this).closest('tr').prev(".question_class").find('.alredy_vote').val("2");
                        $(this).closest(".question_class").find('.alredy_vote').val("2");
                    }
                }
            }
            
            
            if(role == 'customer' && i != 1){
                var $url="<?php echo base_url();?>qestion_vote";
                // alert($url);
                $.ajax({ 
                  url: $url,
                  type:"POST",
                  data: {product_id: product_id,pro_qes_ans_id: pro_qes_ans_id,vote_type: vote_type},
                  success: function ($data) {

                    if($data =='update'){
                      alert("your votes are updated");
                    }
                    else if($data =='insert'){
                      alert("Your Vote submitted");
                    } 
                  },
                  error: function(){
                  }
                });
            }
            else
            {
                if(i == 1)
                {

                }
                else
                {
                    alert("Please Login And Vote for the Question...");
                }
            }
        });
        //search_faq
        $('.search_faq').keyup(function(){
            var search_value = $(this).val();
            if(search_value !=''){
                var class_name_array = [];
                var class_name_array1 = [];
                $('#FAQ_table tr').each(function() {
                    var count_td = 0;var str_inx = 0;var str_len = 0;var sar_len = 0;var temp ="";
                     var search_keywords = $(this).find("td").eq(3).text();
                     var class_name = $(this).closest("tr").attr("class");
                     var class_array = class_name.split(' ');
                     var cn_fordisply ="";
                     $.each(class_array , function(index, val){ 
                        if(val.indexOf("disply_") != -1){
                           cn_fordisply = val;
                        }
                    });
                     if(search_keywords.toLowerCase().indexOf(search_value.toLowerCase()) != -1){
                        class_name_array.push("." + cn_fordisply);
                        str_inx = parseInt(search_keywords.toLowerCase().indexOf(search_value.toLowerCase()));
                        str_len = search_keywords.length;
                        sar_len = search_value.length;
                        final_length = +str_inx+sar_len;
                        if(str_inx > 0)
                        {
                            temp = search_keywords.substr(0, str_inx);
                            
                            temp +="<strong class='hightlight'>" + search_keywords.substr(str_inx, sar_len) + "</strong>";
                            
                            if(final_length < str_len){
                                temp +=search_keywords.substr(+str_inx+sar_len,+str_len-(+str_inx+sar_len));
                                
                            }
                            
                        }
                        else{
                            temp ="<strong class='hightlight'>" + search_keywords.substr(str_inx, sar_len) + "</strong>";
                            if(final_length < str_len){
                                temp +=search_keywords.substr(+str_inx+sar_len,+str_len-(+str_inx+sar_len));
                            }
                        }
                        $(this).find("td").eq(3).text("");
                        $(this).find("td").eq(3).html(temp);
                       
                     }
                     else
                     {
                        class_name_array1.push("." + cn_fordisply);
                        $(this).find("td").eq(3).text(search_keywords);
                     }
                });
                $.each(class_name_array1 , function(index, val1){ 
                    if(jQuery.inArray(val1, class_name_array) !== -1)
                    {
                        $(val1).removeClass('display23_none').addClass('display23_block');
                    }
                    else
                    {
                        $(val1).removeClass('display23_block').addClass('display23_none');
                    }
                 });
            }else
            {
                $('#FAQ_table tr').each(function() {
                    $(this).closest("tr").removeClass('display23_none').addClass('display23_block');
                    var search_keywords = $(this).find("td").eq(3).text();
                    if(search_keywords !='')
                    {
                       $(this).find("td").eq(3).text(search_keywords);
                    }
                });
            }
        });
        //review vote
        $('.vote_for_review').click(function(){
            event.preventDefault();
            var i=0;
            var vote_type = $(this).closest('.review_vote').find('.form_vote').val();
            var customer_id = "<?php echo $this->session->userdata('customer_id');?>";
            var role = "<?php echo $this->session->userdata('role');?>";
            var product_id = "<?php echo $product_data[0]->product_id;?>";
            var order_id = $(this).closest('.review_vote').find('.from_question_id').val();
            var get_text_a = $(this).closest('.review_vote').find('.review_count').text();
                var find_alery_vote = $(this).closest('.review_vote').find('.alredy_vote').val();
             if(vote_type =='UP' && role == 'customer')
            { 
                if(find_alery_vote == 1)
                {
                    alert("Already in UP vote");
                    i = 1;
                }
                else
                {
                    $(this).closest(".review_vote").next(".review_vote").find('svg').removeClass('blue_active');
                    $(this).closest('.review_vote').find('svg').addClass('blue_active');
                    var currentPage = parseInt(get_text_a);
                    $(this).closest('.review_vote').find('.review_count').text(" " + ++currentPage);
                    if(find_alery_vote == 2)
                    {
                        $(this).closest('.review_vote').next(".review_vote").find('.alredy_vote').val("1");
                        $(this).closest(".review_vote").find('.alredy_vote').val("1");
                        var get_minusvalue = $(this).closest('.review_vote').next(".review_vote").find('.review_count').text();
                        var currentPage1 = parseInt(get_minusvalue);
                        if(get_minusvalue !=0)
                        {
                            $(this).closest('.review_vote').next(".review_vote").find('.review_count').text(" " + --currentPage1);
                        }
                    }

                    if(find_alery_vote == 0)
                    {
                        $(this).closest('.review_vote').next(".review_vote").find('.alredy_vote').val("1");
                        $(this).closest(".review_vote").find('.alredy_vote').val("1");
                    }
                }
            }
            if(vote_type =='DOWN' && role == 'customer')
            {
                $(this).closest(".review_vote").prev(".review_vote").find('svg').removeClass('blue_active');
                $(this).closest('.review_vote').find('svg').addClass('blue_active');
                if(find_alery_vote == 2)
                {
                    alert("Already in DOWN vote");
                    i = 1;
                }
                else
                {
                    var currentPage = parseInt(get_text_a);
                    $(this).closest('.review_vote').find('.review_count').text(" " + ++currentPage);
                    if(find_alery_vote == 1)
                    {
                        $(this).closest('.review_vote').prev(".review_vote").find('.alredy_vote').val("2");
                        $(this).closest(".review_vote").find('.alredy_vote').val("2");
                        var get_minusvalue = $(this).closest('.review_vote').prev(".review_vote").find('.review_count').text();
                        var currentPage1 = parseInt(get_minusvalue);
                        if(get_minusvalue !=0)
                        {
                            $(this).closest('.review_vote').prev(".review_vote").find('.review_count').text(" " + --currentPage1);
                        }
                    }
                    if(find_alery_vote == 0)
                    {
                        $(this).closest('.review_vote').prev(".review_vote").find('.alredy_vote').val("2");
                        $(this).closest(".review_vote").find('.alredy_vote').val("2");
                    }
                }
            }
            
            
            if(role == 'customer' && i != 1){
                var $url="<?php echo base_url();?>review_vote";
                // alert($url);
                $.ajax({ 
                  url: $url,
                  type:"POST",
                  data: {product_id: product_id,order_id: order_id,vote_type: vote_type},
                  success: function ($data) {

                    if($data =='update'){
                      alert("your votes are updated");
                    }
                    else if($data =='insert'){
                      alert("Your Vote submitted");
                    } 
                  },
                  error: function(){
                  }
                });
            }
            else
            {
                if(i == 1)
                {

                }
                else
                {
                    alert("Please Login And Vote for the Question...");
                }
            }
        });
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $('.add_to_cart').on('click',function (){
            event.preventDefault();
            var product_id = $(this).closest(".single-item").find('.cart_product_id').val();
            var already_incart = $(this).closest(".single-item").find('.already_incart').val();
            var customer_id = "<?php echo $this->session->userdata('customer_id');?>";
            var role = "<?php echo $this->session->userdata('role');?>";
            var order_status = 'PENDING';
            if(role == 'customer')
            {
                if(already_incart == 1)
                {
                    alert("Already in Cart Please Check");
                }
                else
                {

                    $(this).closest('.single-item').find('a i.fa-cart-plus').addClass('clr_red');
                    $(this).closest(".single-item").find('.already_incart').val("1");
                    var pro_size = $('input[name=pro_size]:checked').val();
                    
                    //
                     var $url="<?php echo base_url();?>add_to_cart";
                    
                    $.ajax({ 
                      url: $url,
                      type:"POST",
                      data: {product_id: product_id,pro_size: pro_size},
                      success: function ($data) {
                        if($data =='insert'){
                          alert("Product Added Successfully");
                        } 
                      },
                      error: function(){
                      }
                    });
                }
            }
            else
            {
                alert("Please Login and give add to cart");
            }
        });
 });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $('.add_to_wishlist').on('click',function (){
            event.preventDefault();
            var product_id = $(this).closest(".single-item").find('.cart_product_id').val();
            var already_inwishlist = $(this).closest(".single-item").find('.already_inwishlist').val();
            var customer_id = "<?php echo $this->session->userdata('customer_id');?>";
            var role = "<?php echo $this->session->userdata('role');?>";
            var order_status = 'PENDING';
            if(role == 'customer')
            {
                if(already_inwishlist == 1)
                {
                    alert("Already in Wishlist Please Check");
                }
                else
                {
                    $(this).closest('.single-item').find('a i.fa-heart').addClass('clr_red');
                    $(this).closest(".single-item").find('.already_inwishlist').val("1");
                    //
                     var $url="<?php echo base_url();?>add_to_wishlist";
                    
                    $.ajax({ 
                      url: $url,
                      type:"POST",
                      data: {product_id: product_id},
                      success: function ($data) {
                        if($data =='insert'){
                          alert("Product Added Successfully");
                        } 
                      },
                      error: function(){
                      }
                    });
                }
            }
            else
            {
                alert("Please Login and give add to wishlist");
            }
        });
 });
</script>
<style type="text/css">
    .img-fluid {
    max-width: 349px !important;
}
.card-title {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.hightlight {
    color: #ff0018;
    background: #b7e6e6;
}
.related_img{
    height: 100px;width: 100px;margin-left: 10px;border: 1px solid #ccc;
}
</style>
